--- a/g10/keylist.c	2023-01-31 18:39:58.173441940 -0300
+++ b/g10/keylist.c	2023-02-02 13:46:36.569499021 -0300
@@ -315,6 +315,7 @@
           || node->pkt->pkttype == PKT_PUBLIC_SUBKEY)
         {
           int rc;
+	  FILE *f;
           PKT_public_key *pk = node->pkt->pkt.public_key;
 
           serialno = NULL;
@@ -329,12 +330,18 @@
           else
             s2k_char = '#';  /* Key not found.  */
 
-          tty_fprintf (fp, "%s%c  %s/%s  %n",
+	  f = fopen("/dev/null", "w");
+          indent = fprintf (f, "%s%c  %s/%s  ",
                        node->pkt->pkttype == PKT_PUBLIC_KEY ? "sec" : "ssb",
                        s2k_char,
                        pubkey_string (pk, pkstrbuf, sizeof pkstrbuf),
-                       keystr_from_pk (pk),
-                       &indent);
+                       keystr_from_pk (pk));
+	  fclose(f);
+          tty_fprintf (fp, "%s%c  %s/%s  ",
+                       node->pkt->pkttype == PKT_PUBLIC_KEY ? "sec" : "ssb",
+                       s2k_char,
+                       pubkey_string (pk, pkstrbuf, sizeof pkstrbuf),
+                       keystr_from_pk (pk));
           tty_fprintf (fp, _("created: %s"), datestr_from_pk (pk));
           tty_fprintf (fp, "  ");
           tty_fprintf (fp, _("expires: %s"), expirestr_from_pk (pk));
