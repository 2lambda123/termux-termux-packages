Submitted upstream at:
https://bitbucket.org/multicoreware/x265/pull-requests/31

diff --git a/source/CMakeLists.txt b/source/CMakeLists.txt
index a407271b4..279db60dc 100755
--- a/source/CMakeLists.txt
+++ b/source/CMakeLists.txt
@@ -85,7 +85,10 @@ else()
 endif()

 if(UNIX)
-    list(APPEND PLATFORM_LIBS pthread)
+    find_library(LIBPTHREAD pthread)
+    if(LIBPTHREAD)
+         list(APPEND PLATFORM_LIBS pthread)
+    endif()
     find_library(LIBRT rt)
     if(LIBRT)
         list(APPEND PLATFORM_LIBS rt)
@@ -240,7 +243,7 @@ if(GCC)
     endif()
     if(ARM AND CROSS_COMPILE_ARM)
         if(ARM64)
-            set(ARM_ARGS -fPIC)
+            set(ARM_ARGS --target=@CCTERMUX_HOST_PLATFORM@ -fPIC)
         else()
             set(ARM_ARGS -march=armv6 -mfloat-abi=soft -mfpu=vfp -marm -fPIC)
         endif()
@@ -546,7 +549,7 @@ if((MSVC_IDE OR XCODE OR GCC) AND ENABLE_ASSEMBLY)
             add_custom_command(
                 OUTPUT ${ASM}.${SUFFIX}
                 COMMAND ${CMAKE_CXX_COMPILER}
-                ARGS ${ARM_ARGS} -c ${ASM_SRC} -o ${ASM}.${SUFFIX}
+                ARGS ${ARM_ARGS} -fno-integrated-as -c ${ASM_SRC} -o ${ASM}.${SUFFIX}
                 DEPENDS ${ASM_SRC})
         endforeach()
     elseif(X86)
