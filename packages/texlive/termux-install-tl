


export TMPDIR=/data/data/com.termux/files/usr/tmp/ 
#cd $TMPDIR

wget  http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
tar xvzf install-tl-unx.tar.gz
cd install-tl-20161202/
 
#patch
#for file in `find -L . -type f`
#do
#	head -c 100 $file | grep -E "^#\!.*\\/bin\\/.*" | grep -q -E -v "^#\! ?\\/system" && sed  -i -E "1 s@^#\!(.*)/bin/(.*)@#\!$TERMUX_PREFIX/bin/\2@" $file
#done

sed -E -i "s@/bin/sh@$PREFIX/bin/sh@" tlpkg/TeXLive/TLUtils.pm 


cat >> texlive_inst.profile << XX

selected_scheme scheme-custom
TEXDIR /data/data/com.termux/files/usr/local/texlive/2016
TEXMFCONFIG ~/.texlive2016/texmf-config
TEXMFHOME ~/texmf
TEXMFLOCAL /data/data/com.termux/files/usr/local/texlive/texmf-local
TEXMFSYSCONFIG /data/data/com.termux/files/usr/local/texlive/2016/texmf-config
TEXMFSYSVAR /data/data/com.termux/files/usr/local/texlive/2016/texmf-var
TEXMFVAR ~/.texlive2016/texmf-var
collection-basic 1
collection-latex 1
collection-luatex 1
in_place 0
option_adjustrepo 1
option_autobackup 1
option_backupdir tlpkg/backups
option_desktop_integration 0
option_doc 0
option_file_assocs 0
option_fmt 1
option_letter 0
option_menu_integration 1
option_path 0
option_post_code 1
option_src 0
option_sys_bin /data/data/com.termux/files/usr/local/bin
option_sys_info /data/data/com.termux/files/usr/local/share/info
option_sys_man /data/data/com.termux/files/usr/local/share/man
option_w32_multi_user 0
option_write18_restricted 1
portable 0

XX

perl ./install-tl --custom-bin=$PREFIX/local/texlive/2016/bin/pkg --profile texlive_inst.profile 


