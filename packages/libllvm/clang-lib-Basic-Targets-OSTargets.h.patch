Fixes https://github.com/termux/termux-packages/issues/2469
Breaks https://github.com/llvm/llvm-project/blob/main/clang/test/Preprocessor/init.c
To revert, pass -U__ANDROID_API__

--- llvm-project/clang/lib/Basic/Targets/OSTargets.h
+++ llvm-project.mod/clang/lib/Basic/Targets/OSTargets.h
@@ -14,6 +14,16 @@
 
 #include "Targets.h"
 
+#ifdef __ANDROID__
+#include <sys/system_properties.h>
+#endif
+
+#ifdef __TERMUX__
+#ifndef TERMUX_PKG_API_LEVEL
+#define TERMUX_PKG_API_LEVEL "24"
+#endif
+#endif
+
 namespace clang {
 namespace targets {
 
@@ -380,10 +390,14 @@ class LLVM_LIBRARY_VISIBILITY LinuxTargetInfo : public OSTargetInfo<Target> {
       const unsigned Maj = this->PlatformMinVersion.getMajor();
       if (Maj) {
         Builder.defineMacro("__ANDROID_MIN_SDK_VERSION__", Twine(Maj));
+      } else {
+        char host_api_version[PROP_VALUE_MAX];
+        const int len = __system_property_get("ro.build.version.sdk", host_api_version);
+        Builder.defineMacro("__ANDROID_MIN_SDK_VERSION__", len < 1 ? TERMUX_PKG_API_LEVEL : host_api_version);
+      }
         // This historical but ambiguous name for the minSdkVersion macro. Keep
         // defined for compatibility.
         Builder.defineMacro("__ANDROID_API__", "__ANDROID_MIN_SDK_VERSION__");
-      }
     } else {
         Builder.defineMacro("__gnu_linux__");
     }
